{% load static %}

<article class="bg-[#fefefe] overflow-hidden w-48">

  <!-- Thumbnail -->
  <div class="relative overflow-hidden">
    {% if product.thumbnail %}
      <img src="{{ product.thumbnail }}" alt="{{ product.title }}" class="w-full h-48 object-cover">
    {% else %}
      <div class="w-full h-48 bg-gray-200"></div>
    {% endif %}
  </div>

  <!-- Content -->
  <div class="p-3">
    <h3 class="text-xl font-semibold text-gray-900 mb-1 line-clamp-2">
      {{ product.title }}
    </h3>
    <span class="text-sm font-bold text-gray-900 block mb-1">
      Rp{{ product.price }}
    </span>
    <div class="text-xs text-gray-600 mb-2">
      {{ product.brand }}
    </div>
    <div class="flex items-center justify-between mb-2">
      <div class="flex items-center text-xs text-gray-600">
        <span class="text-yellow-400">â˜…</span>
        <span class="ml-1">{{ product.rating }} | <span id="rev">{{ product.reviewer }}</span></span>
      </div>
      <a href="{% url 'ven_shop:show_product' product.id %}" class="text-gray-600 hover:text-gray-800">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"/>
          <path d="M3 6h18"/>
          <path d="M16 10a4 4 0 0 1-8 0"/>
        </svg>
      </a>
    </div>
    <div class="text-xs text-gray-500 mb-2">
      Stock: {{ product.stock }}
    </div>

    <!-- Edit and Delete Buttons -->
     {% if user.is_superuser %}
    <div class="flex justify-end gap-2">
      <a href="{% url 'ven_shop:edit_product' product.id %}" class="text-blue-600 hover:text-blue-800 transition-colors">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
          <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
        </svg>
      </a>
      <a href="{% url 'ven_shop:delete_product' product.id %}" class="text-red-600 hover:text-red-800 transition-colors" onclick="return confirm('Apakah Anda yakin ingin menghapus produk ini?')">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M3 6h18"/>
          <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/>
          <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/>
          <line x1="10" x2="10" y1="11" y2="17"/>
          <line x1="14" x2="14" y1="11" y2="17"/>
        </svg>
      </a>
    </div>
    {% endif %}

  </div>

</article>