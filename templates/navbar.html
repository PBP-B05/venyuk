{% load static %}

<nav class="navbar">
    <a href="/" class="logo">
        <img src="{% static 'images/logo_venyuk.png' %}" alt="Logo Venyuk">
    </a>

    <ul class="nav-links">
        <li><a href="{% url 'venue:home_section' %}">Venue</a></li>
<<<<<<< HEAD
        <li><a href="{% url 'promo:promo-list' %}">Promo</a></li>
=======
        <li><a href="#">Promo</a></li>
>>>>>>> aef7793788ce586668b684fa4bbfd17508b70d97
        <li><a href="#ven-shop">Ven-Shop</a></li>
        <li><a href="#main-bareng">Main Bareng</a></li>
        <li><a href="#versus">Versus</a></li>
        <li><a href="#blog">Blog</a></li>
    </ul>

    {% if user.is_authenticated %}
    <!-- Profile Container -->
        <div class="profile-container">
            <div class="profile-info" id="profile-toggle">
                <img src="{% static 'images/profile_icon.png' %}" alt="Profile" class="profile-icon">
                <span class="nickname">{{ user.username }}</span>
            </div>

            <!-- Dropdown Menu -->
            <div class="dropdown-menu hidden" id="dropdown-menu">
                <a href="{% url 'authenticate:login' %}">ðŸ‘¤ Profile</a>
                <a href="{% url 'authenticate:login' %}">ðŸ“Š Dashboard</a>
                <a href="{% url 'authenticate:logout' %}">ðŸšª Logout</a>
            </div>
        </div>
    {% else %}
    <!-- Login Button -->
        <a href="{% url 'authenticate:login' %}" class="btn-masuk">MASUK</a>
    {% endif %}

    <div class="hamburger">
        <span></span>
        <span></span>
        <span></span>
    </div>
</nav>

<script>
    // Pilih tombol hamburger dan menu nav-links
    const hamburger = document.querySelector(".hamburger");
    const navLinks = document.querySelector(".nav-links");

    // Tambahkan event listener 'click' pada hamburger
    hamburger.addEventListener("click", () => {
        navLinks.classList.toggle("active");
    });

    // Dropdown toggle
    const profileToggle = document.getElementById('profile-toggle');
    const dropdownMenu = document.getElementById('dropdown-menu');

    profileToggle.addEventListener('click', () => {
        dropdownMenu.classList.toggle('hidden');
    });

    // Close dropdown jika klik di luar
    document.addEventListener('click', (event) => {
        if (!profileToggle.contains(event.target) && !dropdownMenu.contains(event.target)) {
        dropdownMenu.classList.add('hidden');
        }
    });
</script>

<style>
    .navbar {
        background-color: white;
        padding: 1rem 5%;
        display: flex;
        justify-content: space-between;
        align-items: center;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        z-index: 1000;
    }


    .logo {
        display: flex;
        align-items: center;
        height: 50px; 
    }

    .logo img {
        height: 100%; 
        width: auto; 
        object-fit: contain; 
    }

    .nav-links {
        display: flex;
        gap: 2rem;
        list-style: none;
        align-items: center;
        margin: 0;
        padding: 0;
    }

    .nav-links a {
        text-decoration: none;
        color: #666;
        transition: color 0.3s;
    }

    .nav-links a:hover {
        color: #c84b4b;
    }

    .btn-masuk {
        background-color: #c84b4b;
        color: white;
        padding: 0.7rem 2rem;
        border-radius: 8px;
        text-decoration: none;
        transition: background-color 0.3s;
        white-space: nowrap; /* Mencegah text wrap */
    }

    .btn-masuk:hover {
        background-color: #a83d3d;
    }

    /* Hamburger Menu */
    .hamburger {
        display: none;
        cursor: pointer;
        flex-direction: column;
        gap: 4px;
    }

    .hamburger span {
        display: block;
        width: 25px;
        height: 3px;
        background-color: #333;
        border-radius: 2px;
        transition: all 0.3s ease;
    }

    /* Animasi Hamburger saat active */
    .hamburger.active span:nth-child(1) {
        transform: rotate(45deg) translate(5px, 5px);
    }

    .hamburger.active span:nth-child(2) {
        opacity: 0;
    }

    .hamburger.active span:nth-child(3) {
        transform: rotate(-45deg) translate(7px, -6px);
    }

    /* Media Query untuk Mobile */
    @media (max-width: 768px) {
        .nav-links {
            display: none;
            flex-direction: column;
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            background-color: white;
            box-shadow: 0 4px 5px rgba(0, 0, 0, 0.1);
            padding: 1rem 0;
            gap: 1.5rem;
            z-index: 999;
        }

        .nav-links.active {
            display: flex;
        }

        .nav-links li {
            width: 100%;
            text-align: center;
        }

        .btn-masuk {
            padding: 0.5rem 1.5rem;
            font-size: 0.9rem;
        }

        .hamburger {
            display: flex;
        }

        /* Logo lebih kecil di mobile */
        .logo {
            height: 40px;
        }
    }

    /* Untuk tablet */
    @media (max-width: 1024px) and (min-width: 769px) {
        .nav-links {
            gap: 1.5rem;
        }

        .nav-links a {
            font-size: 0.9rem;
        }
    }
    /* --- Profile Container --- */
    .profile-container {
        position: relative;
        display: flex;
        align-items: center;
        cursor: pointer;
    }

    .profile-info {
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .profile-icon {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background-color: #1976D2;
        object-fit: cover;
    }

    .nickname {
        font-weight: 600;
        color: #333;
    }

    /* --- Dropdown Menu --- */
    .dropdown-menu {
        position: absolute;
        top: 110%;
        right: 0;
        background: #fff;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        display: flex;
        flex-direction: column;
        min-width: 160px;
        overflow: hidden;
        z-index: 999;
        animation: fadeIn 0.25s ease-in-out;
    }

    .dropdown-menu a {
        padding: 10px 16px;
        text-decoration: none;
        color: #333;
        font-weight: 500;
        transition: background 0.2s;
    }

    .dropdown-menu a:hover {
        background-color: #f5f5f5;
        color: #c84b4b;
    }

    .hidden {
        display: none;
    }

    /* --- Animation --- */
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(-5px); }
        to { opacity: 1; transform: translateY(0); }
    }
</style>